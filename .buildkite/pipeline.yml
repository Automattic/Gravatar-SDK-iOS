# yaml-language-server: $schema=https://raw.githubusercontent.com/buildkite/pipeline-schema/main/schema.json
---

# Variables used in this pipeline are defined in `shared-pipeline-vars`, which is `source`'d before calling `buidkite-agent pipeline upload`

agents:
  queue: "mac"
env:
  IMAGE_ID: $IMAGE_ID

steps:
  #################
  # Lint Source files
  #################
  - label: "ðŸ§ª Lint"
    command: |
      echo "--- ðŸ›  Linting"
      make lint

  #################
  # Build and Test
  #################
  - label: "ðŸ§ª Build and Test"
    command: |
      echo "--- ðŸ›  Building + Testing"
      make test

  ###################
  # Validate Podspec
  ###################
  - label: "ðŸ§ª Validate Podspec"
    command: |
      echo "--- :microscope: Validate Podspec"
      make validate-pod-ci
